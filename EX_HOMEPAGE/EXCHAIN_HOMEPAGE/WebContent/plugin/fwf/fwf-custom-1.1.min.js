var CUST={version:"1.1"};window.console&&console.info("fwf-custom.js Version: ",CUST.version);CUST.global={openUserPopupCallback:"",outAcntBalCheck:"",variable1:{},variable2:{}};CUST.openUserPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/uc20/UC2030010.jsp",{w:860,h:600,m:!0,param:"openerParam="+a})};CUST.openUserPwPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/uc20/UC2030020.jsp",{w:320,h:600,m:!0,param:a})};
CUST.openOutAcntTrnsPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/up10/UP1020031.jsp",{w:860,h:600,m:!0,param:a})};CUST.openAlarmDetailPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/um20/UM2010020.jsp",{w:850,h:1,m:!0,param:a})};CUST.openUserExecPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/uc20/UC2030030.jsp",{w:860,h:600,m:!0,param:a})};
CUST.openApprLinePopup=function(a){COMM.layer("/page/work/uc20/UC2030040.jsp",{w:600,h:400,m:!0,param:"appr_ln_seq_no="+a})};
CUST.openMyAcntPopup=function(a,b,c,d){var e="";CUST.global.openUserPopupCallback=d;"KRW"==a?(e="/page/work/uc20/UC2030070.jsp",c.bank_cd?COMM.layer(e,{w:860,h:600,m:!0,param:c,isSub:!0}):COMM.layer(e,{w:860,h:600,m:!0,param:c,isSub:!1})):"FOC"==a?COMM.layer("/page/work/uc20/UC2030071.jsp?foc_pay_div="+b,{w:860,h:484,m:!0,param:c,isSub:!0}):"OVRS"==a&&COMM.layer("/page/work/uc20/UC2030072.jsp",{w:1100,h:484,m:!0,param:c,isSub:!0})};
CUST.openOutAcntPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/uc20/UC2030073.jsp",{w:600,h:400,m:!0,param:a,isSub:!0})};CUST.openAdminAcntPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/uc20/UC2030110.jsp",{w:860,h:600,m:!0,param:a})};CUST.openExcelGridPopup=function(a){COMM.winOpen("/page/work/uc20/UC2030080.jsp?gridId="+a.gridId+"&gridColumn="+JSON.stringify(a.gridColumn),{w:600,h:200,name:"UC2030080"})};
CUST.openApmtExchRtPopup=function(a,b){CUST.global.openUserPopupCallback=b;COMM.layer("/page/work/uc20/UC2030120.jsp?pageId="+a.pageId+"&acnt_seq_no="+a.acnt_seq_no+"&bank_cd="+a.bank_cd+"&out_cur_cd="+a.out_cur_cd+"&remt_cur_cd="+a.remt_cur_cd,{w:1100,h:540,m:!0,param:a,isSub:!0})};CUST.openProcRstPopup=function(a){COMM.layer("/page/work/uc20/UC2030060.jsp",{w:420,h:800,m:!0,param:a})};
CUST.byteCheck=function(a,b,c){return COMM.getByte(a)>b?(COMM.dialog({type:"warning",id:"W0027",message:c}),!1):!0};CUST.makeSelectApprLine=function(a){COMM.showByTasking({taskID:"AC1010260",pageID:a,formID:a+"form",async:!1,callback:function(b){b.resultData=b.resultData||{};var c="",c=$.isEmptyObject(b.resultData)?"<option value='X'>"+_UCS.MSGCDW0059+"</option>":"<option value='X'>"+_UCS.MSGCDW0056+"</option>"+b.resultData.appr_line;$("#"+a+" select[name=appr_ln_seq_no]").html(c)}})};
CUST.makeSelectOutAcnt=function(a,b){$("#"+a+"form").append("<input type='hidden' name='acnt_krw_foc_div' value='"+b+"' />");COMM.showByTasking({taskID:"AC1020220",pageID:a,formID:a+"form",async:!1,callback:function(c){c.resultData=c.resultData||{};var d="";$.isEmptyObject(c.resultData)?d="<option value='X'>"+_UCS.MSGCDW0057+"</option>":(d=c.resultData.out_acnt_seq_no_list,d="<option value='X'>"+_UCS.MSGCDW0056+"</option>"+d);"K"==b?$("#"+a+" select[name=krw_out_acnt_seq_no_cur]").html(d):"F"==b?
$("#"+a+" select[name=foc_out_acnt_seq_no_cur]").html(d):"ALL"==b?$("#"+a+" select[name=all_out_acnt_seq_no_cur]").html(d):"FEE"==b&&$("#"+a+" select[name=fee_amt_do_krw_acnt_seq_no]").html(d)}});$("#"+a+"form input[name=acnt_krw_foc_div]").remove()};
CUST.makeSelectMtrnsOutAcnt=function(a){COMM.showByTasking({taskID:"AC1010280",pageID:a,formID:a+"form",async:!1,callback:function(b){b.resultData=b.resultData||{};var c="";$.isEmptyObject(b.resultData)?c="<option value='X'>"+_UCS.MSGCDW0057+"</option>":(c=b.resultData.out_acnt_seq_no_list,c="<option value='X'>"+_UCS.MSGCDW0056+"</option>"+c);$("#"+a+" select[name=out_acnt_seq_no]").html(c)}})};
CUST.makeSelectSingleOutAcnt=function(a){COMM.showByTasking({taskID:"AC1010290",pageID:a,formID:a+"form",async:!1,callback:function(b){b.resultData=b.resultData||{};var c="";$.isEmptyObject(b.resultData)?c="<option value='X'>"+_UCS.MSGCDW0057+"</option>":(c=b.resultData.out_acnt_seq_no_list,c="<option value='X'>"+_UCS.MSGCDW0056+"</option>"+c);$("#"+a+" select[name=out_acnt_seq_no]").html(c)}})};
CUST.makeSelectCurCd=function(a,b,c,d){c="<input type='hidden' name='srch_div' value='"+b+"' />"+("<input type='hidden' name='lngg_cd' value='"+c+"' />");c+="<input type='hidden' name='bank_cd' value='"+d+"' />";$("#"+a+"form").append(c);COMM.showByTasking({taskID:"AC1020270",pageID:a,formID:a+"form",async:!1,callback:function(c){c.resultData=c.resultData||{};var d="";$.isEmptyObject(c.resultData)||(d=c.resultData.cur_cd_list,d="<option value='X'>"+_UCS.MSGCDW0056+"</option>"+d);"SELF"==b&&$("#"+
a+" select[name=in_cur_cd]").html(d);$("#"+a+" select[name=remt_cur_cd]").html(d)}});$("#"+a+"form input[name=srch_div]").remove();$("#"+a+"form input[name=lngg_cd]").remove();$("#"+a+"form input[name=bank_cd]").remove()};
CUST.getComCdMap=function(a,b,c){b="<input type='hidden' name='srch_grp_cd' value='"+b+"' />";$("#"+a+"form").append(c?b+("<input type='hidden' name='srch_lngg_cd' value='"+c+"' />"):b+"<input type='hidden' name='srch_lngg_cd' value='en' />");var d={};COMM.showByTasking({taskID:"AC1020250",pageID:a,formID:a+"form",async:!1,callback:function(a){a.resultData=a.resultData||{};var b="",b=$.isEmptyObject(a.resultData)?"":a.resultData.com_code_list;a=b.split(";");for(b=0;b<a.length;b++){var c=a[b].split("^");
d[c[0]]=c[1]}}});$("#"+a+"form input[name=srch_grp_cd]").remove();$("#"+a+"form input[name=srch_lngg_cd]").remove();return d};
CUST.setBalanceAmt=function(a,b,c){"X"==c||""==c||null==c?1==$("#"+a+" input[name=out_bank_cd]").length?($("#"+a+" input[name=sup_posb_bal]").val(""),$("#"+a+" input[name=bal_lst_upd_date]").val(""),$("#"+a+" input[name=out_bank_cd]").val(""),$("#"+a+" input[name=out_acnt_no]").val("")):"K"==b?($("#"+a+" input[name=krw_sup_posb_bal]").val(""),$("#"+a+" input[name=krw_bal_lst_upd_date]").val(""),$("#"+a+" input[name=krw_out_acnt_no]").val(""),$("#"+a+" input[name=krw_out_bank_cd]").val("")):"F"==b?
($("#"+a+" input[name=foc_sup_posb_bal]").val(""),$("#"+a+" input[name=foc_bal_lst_upd_date]").val(""),$("#"+a+" input[name=foc_out_acnt_no]").val(""),$("#"+a+" input[name=foc_out_bank_cd]").val("")):"ALL"==b?($("#"+a+" input[name=all_sup_posb_bal]").val(""),$("#"+a+" input[name=all_bal_lst_upd_date]").val(""),$("#"+a+" input[name=all_out_acnt_no]").val(""),$("#"+a+" input[name=all_out_bank_cd]").val("")):"FEE"==b&&($("#"+a+" input[name=fee_sup_posb_bal]").val(""),$("#"+a+" input[name=fee_bal_lst_upd_date]").val(""),
$("#"+a+" input[name=fee_out_acnt_no]").val(""),$("#"+a+" input[name=fee_out_bank_cd]").val("")):(c="<input type='hidden' name='bal_acnt_seq_no' value='"+CUST.getAcntSeqNo(c)+"' />",$("#"+a+"form").append(c),COMM.showByTasking({taskID:"AC1010190",pageID:a,formID:a+"form",callback:function(c){var e=$.trim(c.resultData.bal),f=$.trim(c.resultData.sup_posb_bal),g=$.trim(c.resultData.bal_lst_upd_date),h=$.trim(c.resultData.bank_cd),j=$.trim(c.resultData.acnt_no);c=$.trim(c.resultData.cur_cd);""!=g&&(g=
"("+COMM.formatter("answerTime",g)+")");"KRW"==c?(e=COMM.formatter("currency",e),f=COMM.formatter("currency",f)):(e=COMM.formatter("currency2",e),f=COMM.formatter("currency2",f));1==$("#"+a+" input[name=out_bank_cd]").length?($("#"+a+" input[name=sup_posb_bal]").val(f),$("#"+a+" input[name=bal_lst_upd_date]").val(g),$("#"+a+" input[name=out_bank_cd]").val(h),$("#"+a+" input[name=out_acnt_no]").val(j),"UP1020030"==a&&(outAcntPosbBal=f,CUST.global.openUserPopupCallback())):"K"==b?($("#"+a+" input[name=krw_sup_posb_bal]").val(e),
$("#"+a+" input[name=krw_bal_lst_upd_date]").val(g),$("#"+a+" input[name=krw_out_acnt_no]").val(j),$("#"+a+" input[name=krw_out_bank_cd]").val(h)):"F"==b?($("#"+a+" input[name=foc_sup_posb_bal]").val(e),$("#"+a+" input[name=foc_bal_lst_upd_date]").val(g),$("#"+a+" input[name=foc_out_acnt_no]").val(j),$("#"+a+" input[name=foc_out_bank_cd]").val(h)):"ALL"==b?($("#"+a+" input[name=all_sup_posb_bal]").val(e),$("#"+a+" input[name=all_bal_lst_upd_date]").val(g),$("#"+a+" input[name=all_out_acnt_no]").val(j),
$("#"+a+" input[name=all_out_bank_cd]").val(h)):"FEE"==b&&($("#"+a+" input[name=fee_sup_posb_bal]").val(e),$("#"+a+" input[name=fee_bal_lst_upd_date]").val(g),$("#"+a+" input[name=fee_out_acnt_no]").val(j),$("#"+a+" input[name=fee_out_bank_cd]").val(h))}}),$("#"+a+"form input[name=bal_acnt_seq_no]").remove())};CUST.isExistExchGrid=function(a){for(var b=$("#"+a+"grid").jqGrid("getDataIDs"),c=!1,d=0;d<b.length;d++)if(""!=$.trim($("#"+a+"grid").jqGrid("getCell",b[d],"apmt_exch_rt_no"))){c=!0;break}return c};
CUST.clearGridColumn=function(a,b){for(var c=b.split("|"),d=$("#"+a+"grid").jqGrid("getDataIDs"),e={},f=0;f<c.length;f++)e[c[f]]="";for(c=0;c<d.length;c++)$("#"+a+"grid").jqGrid("setRowData",d[c],e)};CUST.clearGridNullColumn=function(a,b){for(var c=b.split("|"),d=$("#"+a+"grid").jqGrid("getDataIDs"),e=0;e<d.length;e++)for(var f=0;f<c.length;f++)b=$.trim($("#"+a+"grid").jqGrid("getCell",d[e],c[f])),"null"==b&&$("#"+a+"grid").jqGrid("setCell",d[e],c[f],null)};CUST.getCurrency=function(a){return CUST.getAcntInfo(a).currency};
CUST.getAcntSeqNo=function(a){return CUST.getAcntInfo(a).acntSeqNo};CUST.getAcntInfo=function(a){if("X"==a||""==a||null==a){var b={currency:"",acntSeqNo:"X"};return b}var c=a.split(","),b={};2==c.length?(b.currency=c[0],b.acntSeqNo=c[1]):(b.currency="",b.acntSeqNo="",3==a.length&&(b.currency=a),10==a.length&&(b.acntSeqNo=a));return b};
CUST.openTransRegPopup=function(a,b){var c="/page/work/"+a.substr(0,4).toLowerCase()+"/"+a.substr(0,6)+"031.jsp";b.pageID=a;COMM.progressbar("on");COMM.layer(c,{w:900,h:600,m:!0,param:b,callback:function(){COMM.progressbar("off")}})};CUST.validateSelect=function(a,b,c){a=$("#"+a+" select[name='"+b+"']").val();return""==a||"X"==a||null==a?(COMM.dialog({type:"warning",id:"W0018",message:c}),!1):!0};
CUST.validateEmpty=function(a,b,c){var d=$.trim($("#"+a+" input[name='"+b+"']").val());$("#"+a+" input[name='"+b+"']").val(d);return""==d?(COMM.dialog({type:"warning",id:"W0019",message:c,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};
CUST.validateNumber=function(a,b,c){var d=COMM.unformat.currency($("#"+a+" input[name='"+b+"']").val());return!COMM.isNumber(d)?(COMM.dialog({type:"warning",id:"W0042",message:c,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};
CUST.validateLength=function(a,b,c,d){var e=$.trim($("#"+a+" input[name='"+b+"']").val());$("#"+a+" input[name='"+b+"']").val(e);return e.length!=c?(COMM.dialog({type:"warning",id:"W0061",message:d,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};
CUST.validateEng=function(a,b,c){var d=$.trim($("#"+a+" input[name='"+b+"']").val());$("#"+a+" input[name='"+b+"']").val(d);return!/[a-zA-Z0-9]+$/.test(d)?(COMM.dialog({type:"warning",id:"W0060",message:c,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};
CUST.validateEmail=function(a,b,c){var d=$.trim($("#"+a+" input[name='"+b+"']").val());$("#"+a+" input[name='"+b+"']").val(d);return null==d.match(/^[_a-zA-Z0-9-]+@[._a-zA-Z0-9-]+\.[a-zA-Z]+$/)?(COMM.dialog({type:"warning",id:"W0062",message:c,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};
CUST.validateHandPhone=function(a,b,c){var d=$.trim($("#"+a+" input[name='"+b+"']").val());$("#"+a+" input[name='"+b+"']").val(d);return!/(01)(0|1|6|7|8|9)(\d{7}|\d{8})$/g.test(d)?(COMM.dialog({type:"warning",id:"W0062",message:c,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};
CUST.validateAmt=function(a,b,c,d,e){var f=$("#"+a+" input[name='"+b+"']").val();return!CUST.validateEmpty(a,b,c)||!CUST.validateNumber(a,b,d)?!1:0>=parseFloat(f)?(COMM.dialog({type:"warning",id:"W0045",message:e,callback:function(){$("#"+a+" input[name='"+b+"']").focus()}}),!1):!0};CUST.validateEmptyNEng=function(a,b,c,d){return!CUST.validateEmpty(a,b,c)||!CUST.validateEng(a,b,d)?!1:!0};CUST.validateEmptyNNumber=function(a,b,c,d){return!CUST.validateEmpty(a,b,c)||!CUST.validateNumber(a,b,d)?!1:!0};
CUST.focPayTimeCheck=function(a){var b=String((new Date).getHours())+String((new Date).getMinutes());return 1630<=parseInt(b)?(COMM.dialog({type:"warning",id:"W0098",message:a}),!1):!0};
