(function(a){var d=window.console||{log:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){}},k=0,f=0,c=0,g=[],n=[],w=null,x=null,y=null,t="";DEBUG_MODE&&(d.info("======== tab console \ud14c\uc2a4\ud2b8 \uc2dc\uc791 ========"),d.info("\uc124\uc815\ub41c minNaviWidth: ",60),d.info("======== tab console \ud14c\uc2a4\ud2b8 \ub05d ========"));window.console&&d.info("fwf-tab.js Version: ",1.1);a.widget("ui.tabs",a.ui.tabs,{version:"UI 1.9.1 tabs \ud655\uc7a5 fwf-tab1.1",
base:"#center_content_bak",fwfTab:'<div id="center_content_sub" style="height:100%;"><ul></ul></div>',options:{icons:{close:"fwf-icon-close",pre:"fwf-icon-prev",next:"fwf-icon-next",fullscreen:"fwf-icon-fullscreen",allclose:"fwf-icon-allclose",oneclose:"fwf-icon-oneclose"},disableIcons:{pre:"fwf-icon-prev-dis",next:"fwf-icon-next-dis",normalscreen:"fwf-icon-normalscreen"},tabTemplate:"<li><a href='#{href}'>#{label}</a><span class='ui-icon fwf-icon-close '>Remove Tab</span></li>",tabMargin:0,naviWidth:60,
naviHide:!1,add:function(){},fullscreen:function(){alert("\ud0ed \uc0dd\uc131\uc2dc, fullscreen \uc635\uc158\uc744 \uc815\uc758 \ud558\uc138\uc694. (Please define the [fullscreen] option tab when creating.)")},normalscreen:function(){alert("\ud0ed \uc0dd\uc131\uc2dc, normalscreen \uc635\uc158\uc744 \uc815\uc758 \ud558\uc138\uc694. (Please define the [normalscreen] option tab when creating.)")},btnMeassge:function(){alert("\ub9c8\uc9c0\ub9c9 \ud0ed \uc785\ub2c8\ub2e4. (Last tab)")},remove:function(){alert("\ud0ed \uc0ad\uc81c\uc2dc, remove \uc635\uc158\uc744 \uc815\uc758 \ud558\uc138\uc624. (Please define the [remove] option tab when creating.)")}},
_create:function(){DEBUG_MODE&&d.info(">>> fwf_tabs: _create \ud568\uc218 \uc2dc\uc791 <<<");this._super();var q=this,b=this.options,h=b.icons.close,v=this.element,l="span."+h,e="#"+v.prop("id"),m=e+" .btn-pre",j=e+" .btn-next",r=e+" .btn-fullscreen",s=e+" .btn-allclose",u=e+" .btn-oneclose",p=b.naviWidth;w=q;t=e;x=m;y=j;this.setNavigator(b.icons);a(m).click(function(){a(this).hasClass(b.icons.pre)&&q._widthCalculator("pre")});a(j).click(function(){a(this).hasClass(b.icons.next)&&q._widthCalculator("next")});
a(r).click(function(){a(this).hasClass(b.icons.fullscreen)?(b.fullscreen(),a(this).removeClass(b.icons.fullscreen).addClass(b.disableIcons.normalscreen)):a(this).hasClass(b.disableIcons.normalscreen)&&(b.normalscreen(),a(this).removeClass(b.disableIcons.normalscreen).addClass(b.icons.fullscreen));setTimeout(q._widthCalculator,100)});a(s).click(function(){a(this).hasClass(b.icons.allclose)&&COMM.dialog({type:"confirm",id:"Q0002",message:"\ubaa8\ub4e0 \ud0ed\uc744 \ub2eb\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
callback:function(){a(l).click()},data:null})});a(u).click(function(){a(this).hasClass(b.icons.oneclose)&&COMM.dialog({type:"confirm",id:"Q0002",message:"\ud604\uc7ac \ud0ed\uc744 \ub2eb\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:function(){a(".ui-tabs-nav li[aria-selected=true] span").click()},data:null})});b.tabTemplate="<li><a href='#{href}'><div class=\"ui-tabs-style\">#{label}</div></a><span class='ui-icon "+h+" '>Remove Tab</span></li>";DEBUG_MODE&&d.info("tabs >> navi width \ud310\ub2e8 \uc2dc\uc791");
60>=p&&(p=a(e+" .fwf-tabs-navi").width(),60>p&&(p=60,DEBUG_MODE&&d.log("minNaviWidth \ub85c \ubcf5\uad6c: ",p)));b.naviWidth=p;DEBUG_MODE&&(d.log("naviWidth \uc800\uc7a5: ",p),d.info("tabs >> navi width \ud310\ub2e8 \uc885\ub8cc"));a(document).on("click",l,function(){DEBUG_MODE&&d.info("tabs >> \ud0ed \uc81c\uac70 \uc2dc\uc791");var b=a(".ui-tabs-nav li[aria-controls]").index(a(this).parent()),e=g.slice(0,b),h=g.slice(b+1),j=n.slice(0,b),l=n.slice(b+1);v.tabs("remove",b);k--;DEBUG_MODE&&(d.log("\uc81c\uac70\ub41cindex: ",
b),d.log("tabIndex \uac10\uc18c\ud6c4: ",k));g=e.concat(h);n=j.concat(l);DEBUG_MODE&&(d.log("tabsWidth[]: ",g),d.log("recall[]: ",n));d.assert(g.length===n.length,"\ubc30\uc5f4 \uc5f0\uc0b0\uc758 \uce58\uba85\uc801\uc778 \ubb38\uc81c");0<c&&0===f?q._widthCalculator("delete"):q._widthCalculator();0===g.length&&0===n.length&&(location.href=a("#footer_fwf_page_id").val());DEBUG_MODE&&d.info("tabs >> \ud0ed \uc81c\uac70 \ub05d")});DEBUG_MODE&&d.info("(\ud788\ub4e0 \uc5ec\ubd80) options.naviHide: ",b.naviHide);
b.naviHide?(a(m).hide(),a(j).hide()):(DEBUG_MODE&&d.log("btnPre: ",a(m).attr("class")),a(m).removeClass(b.icons.pre).addClass(b.disableIcons.pre),a(j).removeClass(b.icons.next).addClass(b.disableIcons.next));a.fwf.resizeStop(function(){setTimeout(q._widthCalculator,200)});DEBUG_MODE&&d.info(">>> fwf_tabs: _create \ud568\uc218 \uc885\ub8cc <<<")},setNavigator:function(c){c=this.options.icons;$navi=a("<p class='fwf-tabs-navi'><span class='btn-pre ui-icon "+c.pre+"'></span><span class='btn-next ui-icon "+
c.next+"'></span><span class='btn-fullscreen ui-icon "+c.fullscreen+"'></span><span class='btn-allclose ui-icon "+c.allclose+"'></span><span class='btn-oneclose ui-icon "+c.oneclose+"'></span></p>");a(".ui-tabs-nav").append($navi);DEBUG_MODE&&d.info(">>> setNavigator \ud568\uc218 \uc2dc\uc791-\uc885\ub8cc <<< \ub124\ube44\uc0dd\uc131")},add:function(c,b,h){DEBUG_MODE&&d.info(">>> add \ud568\uc218 \uc2dc\uc791 <<<");var g=n.length,l=-1;if(0!==g)for(var e=0;e<g;e+=1)if(n[e]===c){l=e;break}if(-1===l){if(15<=
k){COMM.dialog({id:"session",type:"session",message:"<li>"+_UCS.COMMON2008.replace("%1",15)+"</li>"});setTimeout(function(){a(COMM._INIT.SESSION_EXPIRATION.base).dialog("close")},2E3);return}n.push(c);DEBUG_MODE&&(d.info("tabs >> \ud0ed\uc0dd\uc131 \uc2dc\uc791"),d.log("\uc785\ub825\uac12 >> url:",c,"label:",b,"index:",h));this._super(c,b,h);DEBUG_MODE&&d.info("tabs >> \ud0ed\uc0dd\uc131 \ub05d");this.element.tabs({active:k});k++;d.assert(0<k,"tabIndex\uc5d0 \uc2ec\uac01\ud55c \uc624\ub958");this._widthCalculator("add")}else if(this.element.tabs({active:l}),
!a(a(t+" ul:first > li")[l]).is(":visible"))if(f>l)for(;!a(a(t+" ul:first > li")[l]).is(":visible");)a(x).click();else for(;!a(a(t+" ul:first > li")[l]).is(":visible");)a(y).click();DEBUG_MODE&&d.info(">>> add \ud568\uc218 \uc885\ub8cc <<<")},_widthCalculator:function(n){DEBUG_MODE&&d.info(">>> _widthCalculator \ud568\uc218 \uc2dc\uc791 <<<");if(0===w.anchors.length)DEBUG_MODE&&d.info(">>> _widthCalculator \ud568\uc218 \uc885\ub8cc (\ud0ed\uc774 \uc5c6\uc74c) <<<");else{var b=w,h=b.options,v=h.tabMargin,
l=b.element.width()-h.naviWidth,e=0,m=0,j=a(t+" ul:first > li"),r=a(x),s=a(y),u=j.length,p=function(){e=0;for(var b=f;b<u-c;b+=1)g[b]=g[b]?g[b]:a(j[b]).outerWidth()+v,e+=g[b],DEBUG_MODE&&(d.log("x === tabOffset ",f),d.log("x\ub294",b,"<",u-c,"tab:",g[b],"total:",e,"max:",l));return l-e};d.assert(0<u,"!!! tabsLength \uc2ec\uac01\ud55c \uc624\ub958 !!!");switch(n){case "add":for(;0<c;)a(j[k-c]).show(),c--;break;case "pre":if(0<f){DEBUG_MODE&&(d.info("tabs >> pre \uc77c \ub54c \uacc4\uc0b0: tabOffset > 0 \uc77c \ub54c"),
d.log("\uc2e4\ud589\uc804 >> \uc55e:",f,"\ub4a4:",c));f--;a(j[f]).show();a(j[k-c-1]).hide();c++;for(m=p();0>m;)a(j[k-c-1]).hide(),m+=g[k-c-1],c++;this.element.tabs({active:f});DEBUG_MODE&&d.log("\uc2e4\ud589\ud6c4 >> \uc55e:",f,"\ub4a4:",c)}else DEBUG_MODE&&d.warn("offset 0 \uc785\ub2c8\ub2e4"),h.btnMeassge();break;case "next":if(0<c){DEBUG_MODE&&(d.info("next \uc77c \ub54c \uacc4\uc0b0: tabOffsetEnd > 0 \uc77c \ub54c "),d.log("\uc2e4\ud589\uc804 >> \uc55e:",f,"\ub4a4:",c));a(j[f]).hide();f++;c--;
a(j[k-c-1]).show();for(m=p();0<c&&m>=g[k-c];)a(j[k-c]).show(),m-=g[k-c],c--;this.element.tabs({active:k-c-1});DEBUG_MODE&&d.log("\uc2e4\ud589\ud6c4 >> \uc55e:",f,"\ub4a4:",c)}else DEBUG_MODE&&d.warn("offsetEND 0 \uc785\ub2c8\ub2e4"),h.btnMeassge();break;case "delete":c--,a(j[k-c-1]).show()}for(p();e>l;)a(j[f]).hide(),e-=g[f],f++;for(;0<c&&e+g[k-c]<=l;)a(j[k-c]).show(),e+=g[k-c],c--;if(0===c)for(;0<f&&e+g[f-1]<=l;)a(j[f-1]).show(),e+=g[f],f--;b.options.naviHide?(0<c?s.show():s.hide(),0<f?r.show():
r.hide()):(0<c?s.addClass(h.icons.next).removeClass(h.disableIcons.next):s.addClass(h.disableIcons.next).removeClass(h.icons.next),0<f?r.addClass(h.icons.pre).removeClass(h.disableIcons.pre):r.removeClass(h.icons.pre).addClass(h.disableIcons.pre));d.assert(0<=c,"tabOffsetEnd \uc624\ub958. -\uac12\uc774 \uc0dd\uc131.");d.assert(0<=f,"tabOffset \uc624\ub958. -\uac12\uc774 \uc0dd\uc131.");DEBUG_MODE&&d.info(">>> _widthCalculator \ud568\uc218 \uc885\ub8cc <<<")}}})})(jQuery);
